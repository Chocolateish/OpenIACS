@use "common";

form-slider {
  display: flex;
  flex-direction: column;
  -webkit-user-select: none;
  user-select: none;

  &[inert] {
    filter: var(--form-read-filter);
    pointer-events: none;
  }

  > span {
    color: var(--form-colors-text-normal);
    margin-left: 0.3rem;
    margin-bottom: 0.1rem;

    .anim-some & {
      transition: color var(--form-animation-transitionType)
        var(--form-animation-transitionDuration);
    }
  }

  > div {
    min-width: 12rem;
    background-color: var(--form-colors-background-unselected);
    border-radius: var(--form-size-cornerRadius);
    height: var(--form-size-height);
    flex-direction: row;
    position: relative;
    display: flex;
    justify-content: space-between;

    .touch & {
      height: var(--form-size-touchHeight);
    }

    > input {
      all: unset;
      position: absolute;
      opacity: 0;
      pointer-events: none;
      width: 100%;
      height: 100%;
    }

    .anim-some & {
      transition: height var(--form-animation-transitionType)
          var(--form-animation-transitionDuration),
        background-color var(--form-animation-transitionType)
          var(--form-animation-transitionDuration);
    }

    > svg {
      fill: var(--form-colors-icon-normal);
      max-width: var(--form-size-height);
      border-radius: var(--form-size-cornerRadius);
      padding: 0.3rem;
      height: 100%;
      width: auto;

      .touch & {
        padding: 0.4rem;
        max-width: var(--form-size-touchHeight);
      }

      .anim-some & {
        transition: height var(--form-animation-transitionType)
            var(--form-animation-transitionDuration),
          max-width var(--form-animation-transitionType)
            var(--form-animation-transitionDuration),
          padding var(--form-animation-transitionType)
            var(--form-animation-transitionDuration),
          fill var(--form-animation-transitionType)
            var(--form-animation-transitionDuration);
      }

      @media (hover: hover) and (pointer: fine) {
        &:hover {
          background-color: var(--form-colors-background-hover);
        }
      }
    }

    > div {
      flex-grow: 1;

      > div {
        color: var(--form-colors-text-normal);
        box-shadow: inset 0 0 0px 1px var(--form-colors-border-normal),
          var(--form-shared-focus-out);
        border-radius: var(--form-size-cornerRadius);
        background-color: var(--form-colors-background-normal);
        height: 100%;
        width: 5rem;
        touch-action: none;
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: center;
        text-align: center;
        -webkit-user-select: none;
        user-select: none;
        outline: none;
        line-height: 0.8rem;
        box-sizing: border-box;

        > div {
          font-size: 0.8rem;
        }

        .anim-some & {
          transition: color var(--form-animation-transitionType)
              var(--form-animation-transitionDuration),
            background-color var(--form-animation-transitionType)
              var(--form-animation-transitionDuration),
            box-shadow var(--form-animation-transitionType)
              var(--form-animation-transitionDuration);
        }

        @media (hover: hover) and (pointer: fine) {
          &:hover {
            background-color: var(--form-colors-background-hover);
          }

          &:focus-visible::after {
            content: "";
            width: 100%;
            height: 100%;
            position: absolute;
            z-index: 1;
            border-radius: inherit;
            box-shadow: var(--form-shared-focus-out);
          }
        }
      }
    }
  }
}
